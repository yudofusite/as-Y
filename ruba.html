<!DOCTYPE HTML>
<html lang="ja">
  <head>
    <title>Rubyプログラムの実行にバッチファイルを使ってみた</title>
    <meta charset="UTF-8">
    <style>
      @import "asy.css";
      .list {
        position: relative;
        left: 50px;
        line-height: 25px;
        padding: 5px;
        border: 2px solid #000020;
        border-radius: 4px;
        width: fit-content;
      }
    </style>
  </head>
  <body>
    <p class="title">Rubyプログラムの実行にバッチファイルを使ってみた</p>
    <p class="ho1">おそらく人によっては駆使しているであろう<strong>「バッチファイル」</strong>。<br>
      主はそこまで駆使していなかったのだが、Rubyを始めるついでに少し実用的なやつを作ろうと思ったのである。</p>
    <p class="kmd">やりたいこと</p>
    <p class="ho1">テキストエディタ(主の場合はwindowsのメモ帳)で作成したRubyのプログラムのファイル(拡張子.rb)を実行する場合、通常はこうする。</p>
    <div class="list">
      1　ターミナル(主はコマンドプロンプトを使用)で、プログラムが保存してあるディレクトリに移動<br>
      2　「ruby (プログラムのファイル名)」を入力して実行(例：ruby test.rb)
    </div>
    <p class="ho1">・・・まあ、これをいちいち入力してもいいんですけどね<br>流石に非効率だと主は考えたようで</p>
    <p class="ho1">確かに、わざわざ毎回コマンドを入力してディレクトリに移動して実行するのは手間じゃないですか？ですよね？<br>どうにかして楽したいなあ・・・</p>
    <p class="kmd">効率化する</p>
    <p class="ho1">ここでバッチファイルの出番だと主は気づいてしまったようで。<br>
      バッチファイルとは簡単に表すと<strong>ターミナルで実行したいコマンドを拡張子.batで保存しておき、使うときはそのファイルをクリックするだけ</strong>という<br>
      超絶便利なもので、仕事の効率化などでよく聞く(よね？)アレです。<br>以下、Rubyプログラム実行バッチファイル「RubyRunner.bat」の内容を書いときます。</p>
    <div class="list">
      <pre>
      @ECHO OFF<br>
      ECHO 実行するRubyプログラムのファイル名を入れてください<br>
      :INPUT_START<br>
      SET IN1=<br>
      SET /P IN1=&#009#ファイル名入力部分(ファイル名は変数IN1に代入しています)<br>
      IF "%IN1%"=="" EXIT&#009&#009#何も入力されなかった場合は終了<br>
      :INPUT_CONF    #←要らないかも<br>

      cd C:Users\(ユーザー名)\OneDrive\デスクトップ\Ruby    #今回はデスクトップの「ruby」というフォルダにあるプログラムを実行するようにしてあります。<br>
      ruby %IN1%      #ここで実行します。前後に改行(ECHO.)入れてもいい<br>

      ECHO 実行完了<br>
      ECHO 続けて実行する場合はRubyプログラム名を入力してください<br>
      GOTO :INPUT_START    #最初に戻ります    <br>
    </div>
  </body>
</html>
